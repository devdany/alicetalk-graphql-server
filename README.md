# 3장 GraphQL 프로젝트 실습

## 프로젝트 내용
GraphQL로 채팅앱 서버 구축하기

## 서버 환경 상세
* 데이터베이스등 외부 인프라는 구축하지 않습니다.
* GraphQL 서버 구현에 집중하고, 그 외의 내용은 서버내 메모리를 활용해서 되었다고 가정하고 구현합니다. 
* 아키텍처 및 디자인패턴은 신경쓰지 않습니다.
* 외부라이브러리 사용은 최소화합니다.
* 예외 & 에러 처리, 로깅, 캐시, 페이지네이션 등 기타 사항은 시간관계상 모두 제외합니다.


## API 구현 요구사항

### User
* 사용자는 `User`라고 정의합니다.
* `User`는 `email`, `password`로 로그인 할 수 있습니다. 로그인시 인증 토큰을 발급합니다.
* 요청의 Authorization 헤더의 토큰을 활용해서 요청자를 검증합니다.

### Chat
* 하나의 채팅방을 `Chat`이라고 정의합니다.
* `Chat`에는 최소한 한명의 `User`가 구성원으로 존재해야 합니다. 구성원이 모두 사라지면, `Chat`은 아카이브되어 별도의 스토리지에 저장되고, `User`는 이를 더 이상 조회할 수 없습니다.
* `Chat`의 구성원중, 한명의 `Creator`가 존재합니다. `Chat`이 존재하는 동안, `Chat`의 `Creator`는 변하지 않습니다.
* `User`는 자신이 속한 `Chat`목록을 조회할 수 있습니다.
* `User`는 `Chat`을 생성할 수 있습니다.
* `User`는 `Chat`에서 떠날 수 있습니다.
* `User`는 `Chat`생성시 또는 생성 후에 다른 구성원들을 추가할 수 있습니다.
* `Creator`가 아닌 구성원은 최소 한개의 `Message`가 `Chat`에 존재 할 때만 해당 `Chat`을 조회할 수 있습니다.
* 로그인한 `User`는, 해당 `User`가 구성원으로서 속한 모든 `Chat`을 구독합니다.

### Message
* `Chat`에서 `User`가 전송한 텍스트를 `Message`라고 정의합니다.
* `Chat`의 구성원인 `User`는 `Chat`의 `Message`를 조회할 수 있습니다.
* `User`는 `Chat`에 `Message`를 생성할 수 있습니다.
* `Message`가 생성되면, 해당 `Chat`을 구독중인 모든 `Member`들에게 `Message`롤  publish합니다.
